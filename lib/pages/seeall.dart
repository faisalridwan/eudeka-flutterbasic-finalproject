import 'package:finaltask_eudeka/data/api_provider.dart';import 'package:finaltask_eudeka/pages/about.dart';import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'package:finaltask_eudeka/models/drink_name.dart';import 'package:flutter_spinkit/flutter_spinkit.dart';import 'package:cached_network_image/cached_network_image.dart';import 'detail.dart';class SeeAll extends StatefulWidget {  @override  _SeeAllState createState() => _SeeAllState();}class _SeeAllState extends State<SeeAll> {  ApiProvider provider = ApiProvider();  Future<DrinkName> drinkName;  @override  void initState() {    drinkName = provider.getDrinkName();    super.initState();  }  @override  Widget build(BuildContext context) {    return Scaffold(      appBar: AppBar(        title: Text('Menu Minuman'),        backgroundColor: Colors.white,        leading: IconButton(          icon: Icon(Icons.arrow_back),          color: Colors.black,          onPressed: () {            Navigator.pop(context);          },        ),        actions: <Widget>[          Container(            margin: EdgeInsets.only(right: 15),            child: PopupMenuButton<int>(              onSelected: (value) {                print('ONSELEC = $value');                Navigator.of(context).push(                  MaterialPageRoute(                    builder: (BuildContext context) => About(),                  ),                );              },              child: Icon(                Icons.more_vert,                color: Colors.grey,              ),              itemBuilder: (context) => [                PopupMenuItem(                  value: 1,                  child: Text('About'),                ),              ],            ),          ),        ],      ),      body: FutureBuilder(        future: drinkName,        builder: (BuildContext context, AsyncSnapshot snapshot) {          if (snapshot.hasData) {            DrinkName drink = snapshot.data;            return Column(              children: <Widget>[                SearchBar(),                Padding(                  padding: const EdgeInsets.only(top: 20, left: 10, right: 10),                  child: Divider(),                ),                Expanded(                  child: Container(                    margin: EdgeInsets.all(10),                    child: ListView.builder(                      shrinkWrap: true,                      itemCount: snapshot.data.drinks.length,                      itemBuilder: (BuildContext context, int index) {                        return InkWell(                          onTap: () {                            Navigator.of(context).push(                              MaterialPageRoute(                                builder: (BuildContext context) => DetailDrink(                                  drink: drink.drinks[index],                                ),                              ),                            );                          },                          child: Card(                            child: Container(                              margin: EdgeInsets.all(5),                              child: Row(                                children: <Widget>[                                  ClipRRect(                                    borderRadius:                                        BorderRadius.all(Radius.circular(5)),                                    child: CachedNetworkImage(                                      imageUrl:                                          '${drink.drinks[index].strDrinkThumb}',                                      imageBuilder: (context, imageProvider) =>                                          Container(                                        width: 80,                                        height: 95,                                        decoration: BoxDecoration(                                          image: DecorationImage(                                            image: imageProvider,                                            fit: BoxFit.cover,                                          ),                                        ),                                      ),                                    ),                                  ),                                  Expanded(                                    child: Container(                                      margin:                                          EdgeInsets.only(left: 20, bottom: 40),                                      child: Text(                                        '${drink.drinks[index].strDrink}',                                        style: TextStyle(                                            fontWeight: FontWeight.w800),                                      ),                                    ),                                  ),                                  Container(                                    margin: EdgeInsets.only(top: 55, right: 20),                                    child: Text(                                      'Rp. ${drink.drinks[index].idDrink}',                                      style:                                          TextStyle(fontWeight: FontWeight.w500),                                    ),                                  )                                ],                              ),                            ),                          ),                        );                      },                    ),                  ),                ),              ],            );          } else if (snapshot.hasError) {            print('Has data: ${snapshot.hasError}');            return Column(              children: <Widget>[                SearchBar(),                Container(                    margin: EdgeInsets.only(top: 50),                    child: Text(' Minuman Tidak Tersedia')),              ],            );          } else {            print('Lagi loading....');            return Center(child: SpinKitChasingDots(color: Colors.red));          }        },      ),    );  }  Container SearchBar() => Container(        margin: EdgeInsets.only(top: 15, left: 10, right: 10),        child: TextField(          decoration: InputDecoration(            contentPadding: EdgeInsets.fromLTRB(50.0, 15.0, 20.0, 15.0),            border: OutlineInputBorder(),            prefixIcon: Icon(Icons.search),            labelText: 'Cari Minum Yang kamu inginkan',          ),          onChanged: (String keyword) {            setState(() {              drinkName = provider.getDrinkSearch(keyword);            });          },        ),      );}